================================================================================
            GESTIÃ“N DE CONFIGURACIÃ“N DE PRESCRIPCIONES - ADMIN
                        âœ¨ UPDATED Nov 7, 2025
================================================================================

+------------------------------------------------------------------------------+
|  [<- Volver al Dashboard]                              Usuario: Admin  [X]  |
+------------------------------------------------------------------------------+

+------------------------------------------------------------------------------+
|  GESTIÃ“N DE OPCIONES DE PRESCRIPCIÃ“N                                        |
+------------------------------------------------------------------------------+

NAVEGACIÃ“N DE SECCIONES (Tabs):

+====================+====================+====================+====================+
|  TIPOS DE          |  TIPOS DE          |  ÃNDICES DE        |  ÃREAS DE          |
|  PRESCRIPCIÃ“N      |  LENTES            |  LENTE             |  VISIÃ“N            |
|  (Active)          |                    |                    |                    |
+====================+====================+====================+====================+

NOTA: Esta interfaz gestiona las 4 tablas admin-editables que controlan el
      flujo de prescripciÃ³n multi-paso:
      1. prescription_types - CategorÃ­as de prescripciÃ³n
      2. lens_types - Materiales/caracterÃ­sticas de lentes
      3. lens_indexes - Opciones de grosor de lente
      4. view_areas - Ãreas de visiÃ³n para lentes progresivos

================================================================================
                        SECCIÃ“N 1: TIPOS DE PRESCRIPCIÃ“N
================================================================================

+------------------------------------------+  +-----------------------------+
|  [Buscar tipos...]                  [ðŸ”] |  | [+ Agregar Tipo]            |
+------------------------------------------+  +-----------------------------+

+------------------------------------------------------------------------------+
|  TIPOS DE PRESCRIPCIÃ“N DISPONIBLES                                    3      |
+------------------------------------------------------------------------------+

+======+======================+==============+=========+===========+===========+
| ORD. | NOMBRE               | SLUG         | ESTADO  | DESCRIP.  | ACCIONES  |
+======+======================+==============+=========+===========+===========+
| [â‰¡]  | Single Vision        | single-      | [ON]    | One field | [Editar]  |
|      |                      | vision       |         | of vision | [Ver]     |
|      | Orden: 1             |              |         | (near or  |           |
|      |                      |              |         | distance) |           |
+------+----------------------+--------------+---------+-----------+-----------+
| [â‰¡]  | Progressive          | progressive  | [ON]    | Multiple  | [Editar]  |
|      |                      |              |         | vision    | [Ver]     |
|      | Orden: 2             |              |         | zones in  |           |
|      |                      |              |         | one lens  |           |
+------+----------------------+--------------+---------+-----------+-----------+
| [â‰¡]  | Non-Prescription     | non-         | [ON]    | Cosmetic  | [Editar]  |
|      |                      | prescription |         | or prot-  | [Ver]     |
|      | Orden: 3             |              |         | ective use|           |
+------+----------------------+--------------+---------+-----------+-----------+

+------------------------------------------------------------------------------+
|  INSTRUCCIONES:                                                              |
|  - Estos tipos determinan el flujo de configuraciÃ³n del usuario             |
|  - Toggle [ON/OFF] para activar/desactivar tipos                            |
|  - Arrastra [â‰¡] para cambiar el orden de visualizaciÃ³n                      |
|  - Los tipos desactivados no aparecen en el flujo de prescripciÃ³n           |
+------------------------------------------------------------------------------+


+==============================================================================+
|                    AGREGAR / EDITAR TIPO DE PRESCRIPCIÃ“N                     |
+==============================================================================+

+------------------------------------------------------------------------------+
|  INFORMACIÃ“N DEL TIPO                                                        |
+------------------------------------------------------------------------------+
|                                                                             |
|  Nombre: *                                                                   |
|  +--------------------------------------------------------------------+     |
|  | Single Vision                                                      |     |
|  +--------------------------------------------------------------------+     |
|  (Nombre mostrado al usuario)                                                |
|                                                                             |
|  Slug: *                                                                     |
|  +--------------------------------------------------------------------+     |
|  | single-vision                                                      |     |
|  +--------------------------------------------------------------------+     |
|  (Identificador Ãºnico - letras minÃºsculas y guiones)                         |
|                                                                             |
|  DescripciÃ³n:                                                                |
|  +--------------------------------------------------------------------+     |
|  | One field of vision (near or distance)                            |     |
|  +--------------------------------------------------------------------+     |
|  (DescripciÃ³n breve mostrada en el selector)                                 |
|                                                                             |
|  Orden de VisualizaciÃ³n: *                                                   |
|  +--------+                                                                  |
|  |      1 |  (NÃºmero menor = aparece primero)                               |
|  +--------+                                                                  |
|                                                                             |
|  Estado:                                                                     |
|  ( ) Activo    ( ) Inactivo                                                  |
|                                                                             |
+-----------------------------------------------------------------------------+

+------------------------------------------------------------------------------+
|  [Cancelar]                                               [Guardar Tipo]     |
+------------------------------------------------------------------------------+


================================================================================
                        SECCIÃ“N 2: TIPOS DE LENTES
================================================================================

+------------------------------------------+  +-----------------------------+
|  [Buscar tipos de lentes...]        [ðŸ”] |  | [+ Agregar Tipo de Lente]   |
+------------------------------------------+  +-----------------------------+

+------------------------------------------------------------------------------+
|  TIPOS DE LENTES DISPONIBLES                                          6      |
+------------------------------------------------------------------------------+

+======+======================+==========+=============+=============+=========+
| ORD. | NOMBRE               | PRECIO   | SIN RX      | CON RX      | ACCIONES|
+======+======================+==========+=============+=============+=========+
| [â‰¡]  | Frame Only           | $0.00    | âœ“ SÃ­        | âœ— No        | [Editar]|
|      | (Demo Lenses)        |          |             |             | [Ver]   |
|      |                      |          |             |             |         |
|      | Solo el marco, sin   |          |             |             |         |
|      | lentes incluidos     |          |             |             |         |
|      | Estado: [ON]         |          |             |             |         |
|      | Orden: 1             |          |             |             |         |
+------+----------------------+----------+-------------+-------------+---------+
| [â‰¡]  | Blue Light Block     | +$25.00  | âœ“ SÃ­        | âœ“ SÃ­        | [Editar]|
|      |                      |          |             |             | [Ver]   |
|      | Protects eyes from   |          |             |             |         |
|      | digital screens      |          |             |             |         |
|      | Estado: [ON]         |          |             |             |         |
|      | Orden: 2             |          |             |             |         |
+------+----------------------+----------+-------------+-------------+---------+
| [â‰¡]  | Standard Clear       | +$15.00  | âœ“ SÃ­        | âœ“ SÃ­        | [Editar]|
|      | Lenses               |          |             |             | [Ver]   |
|      | Everyday transparent |          |             |             |         |
|      | lenses               |          |             |             |         |
|      | Estado: [ON]         |          |             |             |         |
|      | Orden: 3             |          |             |             |         |
+------+----------------------+----------+-------------+-------------+---------+
| [â‰¡]  | Photochromatic       | +$89.99  | âœ“ SÃ­        | âœ“ SÃ­        | [Editar]|
|      |                      |          |             |             | [Ver]   |
|      | Automatically darkens|          |             |             |         |
|      | in sunlight          |          |             |             |         |
|      | Estado: [ON]         |          |             |             |         |
|      | Orden: 4             |          |             |             |         |
+------+----------------------+----------+-------------+-------------+---------+
| [â‰¡]  | Anti-Reflective      | +$49.99  | âœ— No        | âœ“ SÃ­        | [Editar]|
|      | Coating              |          |             |             | [Ver]   |
|      | Reduces glare and    |          |             |             |         |
|      | improves clarity     |          |             |             |         |
|      | Estado: [ON]         |          |             |             |         |
|      | Orden: 5             |          |             |             |         |
+------+----------------------+----------+-------------+-------------+---------+
| [â‰¡]  | UV Protection        | +$29.99  | âœ— No        | âœ“ SÃ­        | [Editar]|
|      |                      |          |             |             | [Ver]   |
|      | 100% UV ray          |          |             |             |         |
|      | protection           |          |             |             |         |
|      | Estado: [ON]         |          |             |             |         |
|      | Orden: 6             |          |             |             |         |
+------+----------------------+----------+-------------+-------------+---------+

+------------------------------------------------------------------------------+
|  INSTRUCCIONES:                                                              |
|  - "SIN RX" (applies_to_without_rx): Se muestra en flujo "Frame Only"       |
|  - "CON RX" (applies_to_with_rx): Se muestra en flujo "Add Prescription"    |
|  - Toggle [ON/OFF] para activar/desactivar tipos                            |
|  - Arrastra [â‰¡] para cambiar el orden de visualizaciÃ³n                      |
+------------------------------------------------------------------------------+


+==============================================================================+
|                    AGREGAR / EDITAR TIPO DE LENTE                            |
+==============================================================================+

+------------------------------------------------------------------------------+
|  INFORMACIÃ“N DEL TIPO DE LENTE                                               |
+------------------------------------------------------------------------------+
|                                                                             |
|  Nombre: *                                                                   |
|  +--------------------------------------------------------------------+     |
|  | Blue Light Block                                                   |     |
|  +--------------------------------------------------------------------+     |
|                                                                             |
|  Slug: *                                                                     |
|  +--------------------------------------------------------------------+     |
|  | blue-light-block                                                   |     |
|  +--------------------------------------------------------------------+     |
|  (Identificador Ãºnico - letras minÃºsculas y guiones)                         |
|                                                                             |
|  DescripciÃ³n:                                                                |
|  +--------------------------------------------------------------------+     |
|  | Protects eyes from digital screens                                 |     |
|  +--------------------------------------------------------------------+     |
|                                                                             |
|  Modificador de Precio: *                                                    |
|  +----------------+                                                          |
|  | $    25.00     |  (Costo adicional - USD)                                |
|  +----------------+                                                          |
|                                                                             |
|  Aplicabilidad:                                                              |
|  [âœ“] Aplicable sin prescripciÃ³n (applies_to_without_rx)                     |
|      Se muestra en flujo "Frame Only"                                        |
|                                                                             |
|  [âœ“] Aplicable con prescripciÃ³n (applies_to_with_rx)                        |
|      Se muestra en flujo "Add Prescription Lenses"                           |
|                                                                             |
|  Orden de VisualizaciÃ³n: *                                                   |
|  +--------+                                                                  |
|  |      2 |  (NÃºmero menor = aparece primero)                               |
|  +--------+                                                                  |
|                                                                             |
|  Estado:                                                                     |
|  (â€¢) Activo    ( ) Inactivo                                                  |
|                                                                             |
+-----------------------------------------------------------------------------+

+------------------------------------------------------------------------------+
|  [Cancelar]                                         [Guardar Tipo de Lente]  |
+------------------------------------------------------------------------------+


================================================================================
                        SECCIÃ“N 3: ÃNDICES DE LENTE
================================================================================

+------------------------------------------+  +-----------------------------+
|  [Buscar Ã­ndices...]                [ðŸ”] |  | [+ Agregar Ãndice]          |
+------------------------------------------+  +-----------------------------+

+------------------------------------------------------------------------------+
|  ÃNDICES DE LENTE DISPONIBLES                                          4     |
+------------------------------------------------------------------------------+

+======+======================+=============+==============+=========+=========+
| ORD. | NOMBRE               | ÃNDICE      | PRECIO       | ESTADO  | ACCIONES|
+======+======================+=============+==============+=========+=========+
| [â‰¡]  | Mid-Index (1.50)     | 1.50        | $0.00        | [ON]    | [Editar]|
|      |                      |             |              |         | [Ver]   |
|      | Standard plastic lens|             |              |         |         |
|      | Orden: 1             |             |              |         |         |
+------+----------------------+-------------+--------------+---------+---------+
| [â‰¡]  | High-Index (1.60)    | 1.60        | +$50.00      | [ON]    | [Editar]|
|      |                      |             |              |         | [Ver]   |
|      | 20% thinner and      |             |              |         |         |
|      | lighter              |             |              |         |         |
|      | Orden: 2             |             |              |         |         |
+------+----------------------+-------------+--------------+---------+---------+
| [â‰¡]  | Ultra-Thin (1.67)    | 1.67        | +$100.00     | [OFF]   | [Editar]|
|      |                      |             |              |         | [Ver]   |
|      | 30% thinner - Coming |             |              |         |         |
|      | soon                 |             |              |         |         |
|      | Orden: 3             |             |              |         |         |
+------+----------------------+-------------+--------------+---------+---------+
| [â‰¡]  | Ultra-Thin Plus      | 1.74        | +$150.00     | [OFF]   | [Editar]|
|      | (1.74)               |             |              |         | [Ver]   |
|      | 40% thinner - Coming |             |              |         |         |
|      | soon                 |             |              |         |         |
|      | Orden: 4             |             |              |         |         |
+------+----------------------+-------------+--------------+---------+---------+

+------------------------------------------------------------------------------+
|  INSTRUCCIONES:                                                              |
|  - Ãndices de lente solo aplican a lentes con prescripciÃ³n                  |
|  - Mayor Ã­ndice = lentes mÃ¡s delgados y ligeros                             |
|  - Toggle [ON/OFF] para activar/desactivar Ã­ndices                          |
|  - Arrastra [â‰¡] para cambiar el orden de visualizaciÃ³n                      |
+------------------------------------------------------------------------------+


+==============================================================================+
|                    AGREGAR / EDITAR ÃNDICE DE LENTE                          |
+==============================================================================+

+------------------------------------------------------------------------------+
|  INFORMACIÃ“N DEL ÃNDICE                                                      |
+------------------------------------------------------------------------------+
|                                                                             |
|  Nombre: *                                                                   |
|  +--------------------------------------------------------------------+     |
|  | High-Index (1.60)                                                  |     |
|  +--------------------------------------------------------------------+     |
|                                                                             |
|  Slug: *                                                                     |
|  +--------------------------------------------------------------------+     |
|  | high-index-160                                                     |     |
|  +--------------------------------------------------------------------+     |
|  (Identificador Ãºnico - letras minÃºsculas y guiones)                         |
|                                                                             |
|  Valor de Ãndice: *                                                          |
|  +--------------------------------------------------------------------+     |
|  | 1.60                                                               |     |
|  +--------------------------------------------------------------------+     |
|  (Valor del Ã­ndice refractivo: 1.50, 1.60, 1.67, 1.74)                      |
|                                                                             |
|  DescripciÃ³n:                                                                |
|  +--------------------------------------------------------------------+     |
|  | 20% thinner and lighter                                            |     |
|  +--------------------------------------------------------------------+     |
|                                                                             |
|  Modificador de Precio: *                                                    |
|  +----------------+                                                          |
|  | $    50.00     |  (Costo adicional - USD)                                |
|  +----------------+                                                          |
|                                                                             |
|  Orden de VisualizaciÃ³n: *                                                   |
|  +--------+                                                                  |
|  |      2 |  (NÃºmero menor = aparece primero)                               |
|  +--------+                                                                  |
|                                                                             |
|  Estado:                                                                     |
|  (â€¢) Activo    ( ) Inactivo                                                  |
|                                                                             |
+-----------------------------------------------------------------------------+

+------------------------------------------------------------------------------+
|  [Cancelar]                                               [Guardar Ãndice]   |
+------------------------------------------------------------------------------+


================================================================================
                        SECCIÃ“N 4: ÃREAS DE VISIÃ“N
================================================================================

+------------------------------------------+  +-----------------------------+
|  [Buscar Ã¡reas de visiÃ³n...]        [ðŸ”] |  | [+ Agregar Ãrea de VisiÃ³n]  |
+------------------------------------------+  +-----------------------------+

+------------------------------------------------------------------------------+
|  ÃREAS DE VISIÃ“N DISPONIBLES (Para Lentes Progresivos)                2     |
+------------------------------------------------------------------------------+

+======+======================+==============+=========+===========+===========+
| ORD. | NOMBRE               | PRECIO       | ESTADO  | DESCRIP.  | ACCIONES  |
+======+======================+==============+=========+===========+===========+
| [â‰¡]  | Standard View        | $0.00        | [ON]    | Tradition-| [Editar]  |
|      |                      |              |         | al progr- | [Ver]     |
|      | Orden: 1             |              |         | essive    |           |
|      |                      |              |         | corridor  |           |
+------+----------------------+--------------+---------+-----------+-----------+
| [â‰¡]  | 40% Broader View     | +$75.00      | [ON]    | Wider     | [Editar]  |
|      |                      |              |         | zones for | [Ver]     |
|      | Orden: 2             |              |         | computer  |           |
|      |                      |              |         | work      |           |
+------+----------------------+--------------+---------+-----------+-----------+

+------------------------------------------------------------------------------+
|  INSTRUCCIONES:                                                              |
|  - Ãreas de visiÃ³n SOLO aplican a lentes progresivos                        |
|  - No se muestran en flujos Single Vision o Non-Prescription                |
|  - Toggle [ON/OFF] para activar/desactivar Ã¡reas                            |
|  - Arrastra [â‰¡] para cambiar el orden de visualizaciÃ³n                      |
+------------------------------------------------------------------------------+


+==============================================================================+
|                    AGREGAR / EDITAR ÃREA DE VISIÃ“N                           |
+==============================================================================+

+------------------------------------------------------------------------------+
|  INFORMACIÃ“N DEL ÃREA DE VISIÃ“N                                              |
+------------------------------------------------------------------------------+
|                                                                             |
|  Nombre: *                                                                   |
|  +--------------------------------------------------------------------+     |
|  | 40% Broader View                                                   |     |
|  +--------------------------------------------------------------------+     |
|                                                                             |
|  Slug: *                                                                     |
|  +--------------------------------------------------------------------+     |
|  | broader-view-40                                                    |     |
|  +--------------------------------------------------------------------+     |
|  (Identificador Ãºnico - letras minÃºsculas y guiones)                         |
|                                                                             |
|  DescripciÃ³n:                                                                |
|  +--------------------------------------------------------------------+     |
|  | Wider zones for computer work                                      |     |
|  +--------------------------------------------------------------------+     |
|                                                                             |
|  Modificador de Precio: *                                                    |
|  +----------------+                                                          |
|  | $    75.00     |  (Costo adicional - USD)                                |
|  +----------------+                                                          |
|                                                                             |
|  Orden de VisualizaciÃ³n: *                                                   |
|  +--------+                                                                  |
|  |      2 |  (NÃºmero menor = aparece primero)                               |
|  +--------+                                                                  |
|                                                                             |
|  Estado:                                                                     |
|  (â€¢) Activo    ( ) Inactivo                                                  |
|                                                                             |
+-----------------------------------------------------------------------------+

+------------------------------------------------------------------------------+
|  [Cancelar]                                         [Guardar Ãrea de VisiÃ³n] |
+------------------------------------------------------------------------------+


================================================================================
                        FLUJO DE CONFIGURACIÃ“N (REFERENCIA)
================================================================================

Este sistema gestiona el flujo multi-paso de prescripciÃ³n:

PASO 1: ElecciÃ³n Inicial
  â†’ Frame Only (usar tipos de lentes con applies_to_without_rx = true)
  â†’ Add Prescription Lenses (continuar a Paso 2)

PASO 2: Tipo de PrescripciÃ³n (Tabla: prescription_types)
  â†’ Single Vision â†’ requiere fÃ³rmula + lens_type + lens_index
  â†’ Progressive â†’ requiere fÃ³rmula + lens_type + lens_index + view_area
  â†’ Non-Prescription â†’ redirecciona a Frame Only

PASO 3: Entrada de FÃ³rmula (Single Vision & Progressive)
  â†’ OD/OS: SPH, CYL, AXIS, PD
  â†’ ADD (para Progressive)
  â†’ O subir imagen de receta

PASO 4: Tipo de Lente (Tabla: lens_types)
  â†’ Muestra opciones segÃºn contexto (applies_to_without_rx o applies_to_with_rx)

PASO 5: Ãndice de Lente (Tabla: lens_indexes) - Solo con prescripciÃ³n
  â†’ 1.50, 1.60, 1.67, 1.74

PASO 6: Ãrea de VisiÃ³n (Tabla: view_areas) - Solo Progressive
  â†’ Standard View, 40% Broader View

CÃLCULO DE PRECIO:
  Base Product Price
  + Lens Type Cost
  + Lens Index Cost
  + View Area Cost
  = TOTAL


================================================================================
                        ESTADÃSTICAS GENERALES
================================================================================

+----------------------+  +----------------------+  +----------------------+
| OPCIONES ACTIVAS    |  | INGRESOS POR         |  | CONFIG. MÃS POPULAR  |
|                     |  | PRESCRIPCIONES (MES) |  |                      |
| Tipos Prescr.: 3    |  |                      |  | Single Vision +      |
| Tipos Lentes:  6    |  |     $24,580          |  | Blue Light +         |
| Ãndices:       2    |  |                      |  | 1.60 Index           |
| Ãreas VisiÃ³n:  2    |  |                      |  |                      |
+---------------------+  +----------------------+  +----------------------+


================================================================================
NOTAS IMPORTANTES:
================================================================================
* Campos obligatorios
* Los elementos inactivos no aparecen en el flujo de prescripciÃ³n del cliente
* Todos los precios son en USD y se suman al precio base del producto
* El sistema usa IDs de base de datos, no enums hardcodeados
* Los slugs deben ser Ãºnicos y usar formato kebab-case
* Cambios en estas tablas afectan INMEDIATAMENTE el flujo del cliente
* Ver DATABASE-SCHEMA.md v2.0 para estructura completa de las tablas
* Ver docs/Prescription-flow.md para flujo detallado del usuario
================================================================================
